<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Financiero - Giunti Chile AG 2025</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Inter:wght@400;500;600;700&display=swap');
        
        :root {
            --primary: #1e40af;
            --primary-light: #3b82f6;
            --secondary: #7c3aed;
            --accent: #dc2626;
            --accent-light: #ef4444;
            --success: #059669;
            --success-light: #10b981;
            --warning: #d97706;
            --warning-light: #f59e0b;
            --dark: #1e293b;
            --light: #f8fafc;
            --border: #e2e8f0;
            --text-primary: #0f172a;
            --text-secondary: #64748b;
            --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #fdfcfb 0%, #e2d1c3 100%);
            color: var(--text-primary);
            line-height: 1.6;
            padding: 3rem 2rem;
            min-height: 100vh;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 3rem 2rem;
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.7) 100%);
            backdrop-filter: blur(10px);
            border-radius: 24px;
            box-shadow: var(--shadow-xl);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
            letter-spacing: -2px;
        }

        .subtitle {
            font-size: 1.25rem;
            color: var(--text-secondary);
            font-weight: 500;
            letter-spacing: 0.5px;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.25rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 3rem 0 2rem 0;
            padding-left: 1.5rem;
            border-left: 6px solid var(--primary);
            position: relative;
        }

        .section-title::before {
            content: '';
            position: absolute;
            left: -6px;
            top: 0;
            width: 6px;
            height: 100%;
            background: linear-gradient(180deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 3px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .card {
            background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.85) 100%);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            border: 1px solid rgba(255, 255, 255, 0.8);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
        }

        .card:hover::before {
            opacity: 1;
        }

        .card-header {
            font-size: 1.15rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--border);
            letter-spacing: 0.3px;
        }

        .chart-container {
            position: relative;
            height: 350px;
            margin-top: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 12px;
        }

        .metric-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }

        .metric-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.9) 100%);
            padding: 1.5rem;
            border-radius: 12px;
            border-left: 4px solid var(--primary);
            box-shadow: var(--shadow-sm);
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            transform: translateX(4px);
            box-shadow: var(--shadow-md);
        }

        .metric-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
        }

        .metric-value {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--primary);
        }

        .metric-change {
            font-size: 0.9rem;
            font-weight: 600;
            margin-top: 0.25rem;
        }

        .positive {
            color: var(--success);
        }

        .negative {
            color: var(--accent);
        }

        .table-container {
            overflow-x: auto;
            margin-top: 1rem;
            border-radius: 12px;
            box-shadow: var(--shadow-md);
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            font-size: 0.95rem;
            background: white;
            border-radius: 12px;
            overflow: hidden;
        }

        th {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            padding: 1.25rem 1rem;
            text-align: left;
            font-weight: 700;
            text-transform: uppercase;
            font-size: 0.8rem;
            letter-spacing: 1px;
        }

        td {
            padding: 1rem;
            border-bottom: 1px solid var(--border);
            background: white;
            transition: background 0.2s ease;
        }

        tr:hover td {
            background: var(--light);
        }

        .value-positive {
            color: var(--success);
            font-weight: 700;
        }

        .value-negative {
            color: var(--accent);
            font-weight: 700;
        }

        .highlight-row {
            background: linear-gradient(90deg, rgba(251, 191, 36, 0.1) 0%, rgba(251, 191, 36, 0.05) 100%) !important;
            font-weight: 700;
        }

        .highlight-row:hover {
            background: linear-gradient(90deg, rgba(251, 191, 36, 0.15) 0%, rgba(251, 191, 36, 0.08) 100%) !important;
        }

        .wide-card {
            grid-column: 1 / -1;
        }

        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2.5rem;
            }
            
            .metric-grid {
                grid-template-columns: 1fr;
            }
        }

        .legend-item {
            display: inline-flex;
            align-items: center;
            margin-right: 1.5rem;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 6px;
            margin-right: 0.5rem;
            box-shadow: var(--shadow-sm);
        }

        .kpi-banner {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .kpi-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.85) 100%);
            backdrop-filter: blur(10px);
            padding: 2rem 1.5rem;
            border-radius: 16px;
            text-align: center;
            box-shadow: var(--shadow-lg);
            border: 1px solid rgba(255, 255, 255, 0.8);
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .kpi-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .kpi-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: var(--shadow-xl);
        }

        .kpi-card:hover::before {
            opacity: 0.05;
        }

        .kpi-value {
            font-size: 2.75rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 0.75rem 0;
            position: relative;
            z-index: 1;
        }

        .kpi-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-weight: 600;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            position: relative;
            z-index: 1;
        }

        .kpi-card .metric-change {
            position: relative;
            z-index: 1;
            font-size: 0.85rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Dashboard Financiero</h1>
            <div class="subtitle">Giunti Chile AG - Ejercicio 2025</div>
        </div>

        <!-- KPI Banner -->
        <div class="kpi-banner">
            <div class="kpi-card">
                <div class="kpi-label">Ingresos Real 2025</div>
                <div class="kpi-value">$2.871M</div>
                <div class="metric-change negative">-12,29% vs Budget</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-label">Utilidad Neta Reportada</div>
                <div class="kpi-value">$16M</div>
                <div class="metric-change negative">-94,79% vs 2024</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-label">Utilidad Operativa Histórica</div>
                <div class="kpi-value">$343M</div>
                <div class="metric-change positive">+9,6% vs 2024</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-label">Ajustes IFRS</div>
                <div class="kpi-value">$327M</div>
                <div class="metric-change">No recurrente</div>
            </div>
        </div>

        <!-- SECCIÓN I: REAL 2025 vs PRESUPUESTO 2025 -->
        <h2 class="section-title">I. ANÁLISIS REAL 2025 vs PRESUPUESTO 2025</h2>

        <!-- Gráfico 1: Comparación de Ingresos Totales -->
        <div class="grid">
            <div class="card">
                <div class="card-header">1. Ingresos Totales: Real vs Presupuesto</div>
                <div class="chart-container">
                    <canvas id="chart1"></canvas>
                </div>
            </div>

            <!-- Gráfico 2: Desglose por Línea de Negocio -->
            <div class="card">
                <div class="card-header">2. Ventas por Línea de Negocio (Millones CLP)</div>
                <div class="chart-container">
                    <canvas id="chart2"></canvas>
                </div>
            </div>
        </div>

        <!-- Tabla 1: Análisis Detallado Real vs Budget -->
        <div class="card wide-card">
            <div class="card-header">Tabla Comparativa Real 2025 vs Presupuesto 2025</div>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Concepto</th>
                            <th style="text-align: right;">Real 2025 (M CLP)</th>
                            <th style="text-align: right;">Presupuesto 2025 (M CLP)</th>
                            <th style="text-align: right;">Variación (M CLP)</th>
                            <th style="text-align: right;">Variación %</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="highlight-row">
                            <td><strong>Ingresos Totales</strong></td>
                            <td style="text-align: right;">$2.871</td>
                            <td style="text-align: right;">$3.273</td>
                            <td style="text-align: right;" class="value-negative">-$402</td>
                            <td style="text-align: right;" class="value-negative">-12,29%</td>
                        </tr>
                        <tr>
                            <td>  Ventas Productos</td>
                            <td style="text-align: right;">$2.322</td>
                            <td style="text-align: right;">$2.771</td>
                            <td style="text-align: right;" class="value-negative">-$449</td>
                            <td style="text-align: right;" class="value-negative">-16,20%</td>
                        </tr>
                        <tr>
                            <td>  Ventas Servicios</td>
                            <td style="text-align: right;">$535</td>
                            <td style="text-align: right;">$437</td>
                            <td style="text-align: right;" class="value-positive">+$98</td>
                            <td style="text-align: right;" class="value-positive">+22,34%</td>
                        </tr>
                        <tr class="highlight-row">
                            <td><strong>Costos Productos</strong></td>
                            <td style="text-align: right;">-$887</td>
                            <td style="text-align: right;">-$955</td>
                            <td style="text-align: right;" class="value-positive">+$68</td>
                            <td style="text-align: right;" class="value-positive">-7,15%</td>
                        </tr>
                        <tr class="highlight-row">
                            <td><strong>Costos Servicios</strong></td>
                            <td style="text-align: right;">-$139</td>
                            <td style="text-align: right;">-$107</td>
                            <td style="text-align: right;" class="value-negative">-$32</td>
                            <td style="text-align: right;" class="value-negative">+29,58%</td>
                        </tr>
                        <tr>
                            <td><strong>Margen Bruto Productos</strong></td>
                            <td style="text-align: right;">61,82%</td>
                            <td style="text-align: right;">65,54%</td>
                            <td style="text-align: right;" class="value-negative">-3,72 p.p.</td>
                            <td style="text-align: right;">-</td>
                        </tr>
                        <tr>
                            <td><strong>Margen Bruto Servicios</strong></td>
                            <td style="text-align: right;">73,96%</td>
                            <td style="text-align: right;">75,41%</td>
                            <td style="text-align: right;" class="value-negative">-1,46 p.p.</td>
                            <td style="text-align: right;">-</td>
                        </tr>
                        <tr class="highlight-row">
                            <td><strong>Utilidad Neta Reportada</strong></td>
                            <td style="text-align: right;">$16</td>
                            <td style="text-align: right;">$558</td>
                            <td style="text-align: right;" class="value-negative">-$542</td>
                            <td style="text-align: right;" class="value-negative">-97,07%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Gráfico 3: Márgenes Brutos -->
        <div class="grid">
            <div class="card">
                <div class="card-header">3. Márgenes Brutos por Línea (%)</div>
                <div class="chart-container">
                    <canvas id="chart3"></canvas>
                </div>
            </div>

            <!-- Gráfico 4: Ajustes IFRS y Extraordinarios -->
            <div class="card">
                <div class="card-header">4. Composición de Ajustes IFRS ($327M)</div>
                <div class="chart-container">
                    <canvas id="chart4"></canvas>
                </div>
            </div>
        </div>

        <!-- SECCIÓN II: REAL 2025 vs REAL 2024 -->
        <h2 class="section-title">II. ANÁLISIS REAL 2025 vs REAL 2024</h2>

        <!-- Gráfico 5: Evolución Ingresos -->
        <div class="grid">
            <div class="card">
                <div class="card-header">5. Evolución de Ingresos 2024-2025</div>
                <div class="chart-container">
                    <canvas id="chart5"></canvas>
                </div>
            </div>

            <!-- Gráfico 6: Crecimiento por Línea -->
            <div class="card">
                <div class="card-header">6. Crecimiento por Línea de Negocio (%)</div>
                <div class="chart-container">
                    <canvas id="chart6"></canvas>
                </div>
            </div>
        </div>

        <!-- Tabla 2: Comparativo Real 2025 vs Real 2024 -->
        <div class="card wide-card">
            <div class="card-header">Tabla Comparativa Real 2025 vs Real 2024</div>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Concepto</th>
                            <th style="text-align: right;">Real 2025 (M CLP)</th>
                            <th style="text-align: right;">Real 2024 (M CLP)</th>
                            <th style="text-align: right;">Variación (M CLP)</th>
                            <th style="text-align: right;">Variación %</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="highlight-row">
                            <td><strong>Ingresos Totales</strong></td>
                            <td style="text-align: right;">$2.871</td>
                            <td style="text-align: right;">$2.716</td>
                            <td style="text-align: right;" class="value-positive">+$155</td>
                            <td style="text-align: right;" class="value-positive">+5,72%</td>
                        </tr>
                        <tr>
                            <td>  Ventas Productos</td>
                            <td style="text-align: right;">$2.322</td>
                            <td style="text-align: right;">$2.294</td>
                            <td style="text-align: right;" class="value-positive">+$29</td>
                            <td style="text-align: right;" class="value-positive">+1,26%</td>
                        </tr>
                        <tr>
                            <td>  Ventas Servicios</td>
                            <td style="text-align: right;">$535</td>
                            <td style="text-align: right;">$344</td>
                            <td style="text-align: right;" class="value-positive">+$190</td>
                            <td style="text-align: right;" class="value-positive">+55,27%</td>
                        </tr>
                        <tr class="highlight-row">
                            <td><strong>Costos Productos</strong></td>
                            <td style="text-align: right;">-$887</td>
                            <td style="text-align: right;">-$679</td>
                            <td style="text-align: right;" class="value-negative">-$208</td>
                            <td style="text-align: right;" class="value-negative">+30,67%</td>
                        </tr>
                        <tr class="highlight-row">
                            <td><strong>Costos Servicios</strong></td>
                            <td style="text-align: right;">-$139</td>
                            <td style="text-align: right;">-$67</td>
                            <td style="text-align: right;" class="value-negative">-$72</td>
                            <td style="text-align: right;" class="value-negative">+108,22%</td>
                        </tr>
                        <tr>
                            <td><strong>Margen Bruto Productos</strong></td>
                            <td style="text-align: right;">61,82%</td>
                            <td style="text-align: right;">70,41%</td>
                            <td style="text-align: right;" class="value-negative">-8,59 p.p.</td>
                            <td style="text-align: right;">-</td>
                        </tr>
                        <tr>
                            <td><strong>Margen Bruto Servicios</strong></td>
                            <td style="text-align: right;">73,96%</td>
                            <td style="text-align: right;">80,58%</td>
                            <td style="text-align: right;" class="value-negative">-6,62 p.p.</td>
                            <td style="text-align: right;">-</td>
                        </tr>
                        <tr class="highlight-row">
                            <td><strong>Utilidad Neta Reportada</strong></td>
                            <td style="text-align: right;">$16</td>
                            <td style="text-align: right;">$313</td>
                            <td style="text-align: right;" class="value-negative">-$297</td>
                            <td style="text-align: right;" class="value-negative">-94,79%</td>
                        </tr>
                        <tr class="highlight-row">
                            <td><strong>Utilidad Operativa Histórica</strong></td>
                            <td style="text-align: right;">$343</td>
                            <td style="text-align: right;">$313</td>
                            <td style="text-align: right;" class="value-positive">+$30</td>
                            <td style="text-align: right;" class="value-positive">+9,6%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Gráfico 7: Evolución de Costos -->
        <div class="grid">
            <div class="card">
                <div class="card-header">7. Explosión de Costos 2024-2025 (%)</div>
                <div class="chart-container">
                    <canvas id="chart7"></canvas>
                </div>
            </div>

            <!-- Gráfico 8: Deterioro de Márgenes -->
            <div class="card">
                <div class="card-header">8. Deterioro de Márgenes Brutos</div>
                <div class="chart-container">
                    <canvas id="chart8"></canvas>
                </div>
            </div>
        </div>

        <!-- Gráfico 9: Mix de Ingresos -->
        <div class="grid">
            <div class="card">
                <div class="card-header">9. Transformación del Mix de Ingresos</div>
                <div class="chart-container">
                    <canvas id="chart9"></canvas>
                </div>
            </div>

            <!-- Gráfico 10: Utilidad Operativa Histórica -->
            <div class="card">
                <div class="card-header">10. Utilidad Neta: Reportada vs Operativa Histórica</div>
                <div class="chart-container">
                    <canvas id="chart10"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Configuración global de Chart.js mejorada
        Chart.defaults.font.family = "'Inter', sans-serif";
        Chart.defaults.font.size = 13;
        Chart.defaults.color = '#64748b';
        Chart.defaults.borderColor = '#cbd5e1';
        Chart.defaults.plugins.legend.labels.usePointStyle = false;
        Chart.defaults.plugins.legend.labels.boxWidth = 40;
        Chart.defaults.plugins.legend.labels.boxHeight = 3;
        Chart.defaults.plugins.legend.labels.padding = 20;
        Chart.defaults.elements.bar.borderRadius = 0;
        Chart.defaults.elements.bar.borderSkipped = false;

        // Paleta de colores suaves y elegantes
        const colors = {
            primary: {
                main: '#60a5fa',
                light: '#93c5fd',
                gradient: (ctx) => {
                    const gradient = ctx.createLinearGradient(0, 0, 0, 400);
                    gradient.addColorStop(0, 'rgba(96, 165, 250, 0.85)');
                    gradient.addColorStop(1, 'rgba(147, 197, 253, 0.45)');
                    return gradient;
                }
            },
            accent: {
                main: '#f87171',
                light: '#fca5a5',
                gradient: (ctx) => {
                    const gradient = ctx.createLinearGradient(0, 0, 0, 400);
                    gradient.addColorStop(0, 'rgba(248, 113, 113, 0.85)');
                    gradient.addColorStop(1, 'rgba(252, 165, 165, 0.45)');
                    return gradient;
                }
            },
            success: {
                main: '#34d399',
                light: '#6ee7b7',
                gradient: (ctx) => {
                    const gradient = ctx.createLinearGradient(0, 0, 0, 400);
                    gradient.addColorStop(0, 'rgba(52, 211, 153, 0.85)');
                    gradient.addColorStop(1, 'rgba(110, 231, 183, 0.45)');
                    return gradient;
                }
            },
            warning: {
                main: '#fbbf24',
                light: '#fcd34d',
                gradient: (ctx) => {
                    const gradient = ctx.createLinearGradient(0, 0, 0, 400);
                    gradient.addColorStop(0, 'rgba(251, 191, 36, 0.85)');
                    gradient.addColorStop(1, 'rgba(252, 211, 77, 0.45)');
                    return gradient;
                }
            },
            secondary: {
                main: '#a78bfa',
                light: '#c4b5fd'
            },
            neutral: {
                main: '#94a3b8',
                light: '#cbd5e1'
            }
        };

        // Gráfico 1: Comparación Ingresos Totales
        new Chart(document.getElementById('chart1'), {
            type: 'bar',
            data: {
                labels: ['Real 2025', 'Presupuesto 2025'],
                datasets: [{
                    label: 'Ingresos (Millones CLP)',
                    data: [2871, 3273],
                    backgroundColor: [
                        colors.accent.main,
                        colors.primary.main
                    ],
                    borderWidth: 0,
                    barThickness: 80
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        displayColors: false,
                        callbacks: {
                            label: function(context) {
                                return '$' + context.parsed.y.toLocaleString() + ' M';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        border: { display: false },
                        grid: { 
                            color: '#e2e8f0',
                            lineWidth: 1
                        },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#64748b',
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            },
                            padding: 8
                        }
                    },
                    x: {
                        border: { display: false },
                        grid: { display: false },
                        ticks: {
                            font: { size: 13, weight: '600' },
                            color: '#1e293b',
                            padding: 8
                        }
                    }
                }
            }
        });

        // Gráfico 2: Ventas por Línea
        new Chart(document.getElementById('chart2'), {
            type: 'bar',
            data: {
                labels: ['Productos', 'Servicios'],
                datasets: [
                    {
                        label: 'Real 2025',
                        data: [2322, 535],
                        backgroundColor: colors.accent.main,
                        barThickness: 50
                    },
                    {
                        label: 'Presupuesto 2025',
                        data: [2771, 437],
                        backgroundColor: colors.primary.main,
                        barThickness: 50
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { 
                        position: 'top',
                        labels: { 
                            font: { size: 13, weight: '700' },
                            color: '#1e293b',
                            padding: 20,
                            boxWidth: 40,
                            boxHeight: 3
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': $' + context.parsed.y.toLocaleString() + ' M';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        border: { display: false },
                        grid: { 
                            color: '#e2e8f0',
                            lineWidth: 1
                        },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#64748b',
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            },
                            padding: 8
                        }
                    },
                    x: {
                        border: { display: false },
                        grid: { display: false },
                        ticks: {
                            font: { size: 13, weight: '600' },
                            color: '#1e293b',
                            padding: 8
                        }
                    }
                }
            }
        });

        // Gráfico 3: Márgenes Brutos
        new Chart(document.getElementById('chart3'), {
            type: 'bar',
            data: {
                labels: ['Productos', 'Servicios'],
                datasets: [
                    {
                        label: 'Real 2025',
                        data: [61.82, 73.96],
                        backgroundColor: colors.accent.main,
                        barThickness: 50
                    },
                    {
                        label: 'Presupuesto 2025',
                        data: [65.54, 75.41],
                        backgroundColor: colors.primary.main,
                        barThickness: 50
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { 
                        position: 'top',
                        labels: { 
                            font: { size: 13, weight: '700' },
                            color: '#1e293b',
                            padding: 20,
                            boxWidth: 40,
                            boxHeight: 3
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + context.parsed.y.toFixed(2) + '%';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        border: { display: false },
                        grid: { 
                            color: '#e2e8f0',
                            lineWidth: 1
                        },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#64748b',
                            callback: function(value) {
                                return value + '%';
                            },
                            padding: 8
                        }
                    },
                    x: {
                        border: { display: false },
                        grid: { display: false },
                        ticks: {
                            font: { size: 13, weight: '600' },
                            color: '#1e293b',
                            padding: 8
                        }
                    }
                }
            }
        });

        // Gráfico 4: Ajustes IFRS
        new Chart(document.getElementById('chart4'), {
            type: 'doughnut',
            data: {
                labels: ['Castigo Existencias ($147M)', 'Despidos Extraordinarios ($91M)', 'Provisión Impuesto ($54M)', 'Provisión Vacaciones ($35M)'],
                datasets: [{
                    data: [147, 91, 54, 35],
                    backgroundColor: [
                        colors.accent.main,
                        colors.warning.main,
                        colors.primary.main,
                        colors.success.main
                    ],
                    borderWidth: 4,
                    borderColor: '#f8fafc',
                    hoverBorderWidth: 6,
                    hoverOffset: 10
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '65%',
                plugins: {
                    legend: { 
                        position: 'bottom',
                        labels: { 
                            font: { size: 12, weight: '600' },
                            color: '#1e293b',
                            padding: 15,
                            usePointStyle: true,
                            pointStyle: 'circle'
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        callbacks: {
                            label: function(context) {
                                const label = context.label.split('(')[0].trim();
                                return label + ': $' + context.parsed + 'M (' + 
                                       ((context.parsed/327)*100).toFixed(1) + '%)';
                            }
                        }
                    }
                }
            }
        });

        // Gráfico 5: Evolución Ingresos
        new Chart(document.getElementById('chart5'), {
            type: 'line',
            data: {
                labels: ['Real 2024', 'Real 2025'],
                datasets: [
                    {
                        label: 'Ingresos Totales',
                        data: [2716, 2871],
                        borderColor: colors.primary.main,
                        backgroundColor: 'rgba(96, 165, 250, 0.15)',
                        borderWidth: 3,
                        tension: 0.4,
                        fill: true,
                        pointRadius: 7,
                        pointBackgroundColor: colors.primary.main,
                        pointBorderColor: '#f8fafc',
                        pointBorderWidth: 3,
                        pointHoverRadius: 9
                    },
                    {
                        label: 'Productos',
                        data: [2294, 2322],
                        borderColor: colors.accent.main,
                        backgroundColor: 'rgba(248, 113, 113, 0.15)',
                        borderWidth: 3,
                        tension: 0.4,
                        fill: true,
                        pointRadius: 7,
                        pointBackgroundColor: colors.accent.main,
                        pointBorderColor: '#f8fafc',
                        pointBorderWidth: 3,
                        pointHoverRadius: 9
                    },
                    {
                        label: 'Servicios',
                        data: [344, 535],
                        borderColor: colors.success.main,
                        backgroundColor: 'rgba(52, 211, 153, 0.15)',
                        borderWidth: 3,
                        tension: 0.4,
                        fill: true,
                        pointRadius: 7,
                        pointBackgroundColor: colors.success.main,
                        pointBorderColor: '#f8fafc',
                        pointBorderWidth: 3,
                        pointHoverRadius: 9
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false
                },
                plugins: {
                    legend: { 
                        position: 'top',
                        labels: { 
                            font: { size: 13, weight: '700' },
                            color: '#1e293b',
                            padding: 20,
                            boxWidth: 40,
                            boxHeight: 3
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': $' + context.parsed.y.toLocaleString() + ' M';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        border: { display: false },
                        grid: { 
                            color: '#e2e8f0',
                            lineWidth: 1
                        },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#64748b',
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            },
                            padding: 8
                        }
                    },
                    x: {
                        border: { display: false },
                        grid: { display: false },
                        ticks: {
                            font: { size: 13, weight: '600' },
                            color: '#1e293b',
                            padding: 8
                        }
                    }
                }
            }
        });

        // Gráfico 6: Crecimiento por Línea
        new Chart(document.getElementById('chart6'), {
            type: 'bar',
            data: {
                labels: ['Ingresos Totales', 'Productos', 'Servicios'],
                datasets: [{
                    label: 'Crecimiento %',
                    data: [5.72, 1.26, 55.27],
                    backgroundColor: [
                        colors.primary.main,
                        colors.warning.main,
                        colors.success.main
                    ],
                    barThickness: 50
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        displayColors: false,
                        callbacks: {
                            label: function(context) {
                                return '+' + context.parsed.x.toFixed(2) + '%';
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        border: { display: false },
                        grid: { 
                            color: '#e2e8f0',
                            lineWidth: 1
                        },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#64748b',
                            callback: function(value) {
                                return '+' + value + '%';
                            },
                            padding: 8
                        }
                    },
                    y: {
                        border: { display: false },
                        grid: { display: false },
                        ticks: {
                            font: { size: 13, weight: '600' },
                            color: '#1e293b',
                            padding: 8
                        }
                    }
                }
            }
        });

        // Gráfico 7: Explosión de Costos
        new Chart(document.getElementById('chart7'), {
            type: 'bar',
            data: {
                labels: ['Costos Productos', 'Costos Servicios'],
                datasets: [{
                    label: 'Incremento de Costos %',
                    data: [30.67, 108.22],
                    backgroundColor: [
                        colors.accent.main,
                        '#dc2626'
                    ],
                    barThickness: 80
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        displayColors: false,
                        callbacks: {
                            label: function(context) {
                                return '+' + context.parsed.y.toFixed(2) + '%';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        border: { display: false },
                        grid: { 
                            color: '#e2e8f0',
                            lineWidth: 1
                        },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#64748b',
                            callback: function(value) {
                                return '+' + value + '%';
                            },
                            padding: 8
                        }
                    },
                    x: {
                        border: { display: false },
                        grid: { display: false },
                        ticks: {
                            font: { size: 13, weight: '600' },
                            color: '#1e293b',
                            padding: 8
                        }
                    }
                }
            }
        });

        // Gráfico 8: Deterioro Márgenes
        new Chart(document.getElementById('chart8'), {
            type: 'bar',
            data: {
                labels: ['Productos', 'Servicios'],
                datasets: [
                    {
                        label: 'Real 2024',
                        data: [70.41, 80.58],
                        backgroundColor: colors.primary.main,
                        barThickness: 50
                    },
                    {
                        label: 'Real 2025',
                        data: [61.82, 73.96],
                        backgroundColor: colors.accent.main,
                        barThickness: 50
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { 
                        position: 'top',
                        labels: { 
                            font: { size: 13, weight: '700' },
                            color: '#1e293b',
                            padding: 20,
                            boxWidth: 40,
                            boxHeight: 3
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + context.parsed.y.toFixed(2) + '%';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        border: { display: false },
                        grid: { 
                            color: '#e2e8f0',
                            lineWidth: 1
                        },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#64748b',
                            callback: function(value) {
                                return value + '%';
                            },
                            padding: 8
                        }
                    },
                    x: {
                        border: { display: false },
                        grid: { display: false },
                        ticks: {
                            font: { size: 13, weight: '600' },
                            color: '#1e293b',
                            padding: 8
                        }
                    }
                }
            }
        });

        // Gráfico 9: Mix de Ingresos
        new Chart(document.getElementById('chart9'), {
            type: 'bar',
            data: {
                labels: ['Real 2024', 'Real 2025'],
                datasets: [
                    {
                        label: 'Productos',
                        data: [84.4, 80.9],
                        backgroundColor: colors.primary.main
                    },
                    {
                        label: 'Servicios',
                        data: [12.7, 18.6],
                        backgroundColor: colors.success.main
                    },
                    {
                        label: 'Otros',
                        data: [2.9, 0.5],
                        backgroundColor: colors.neutral.main
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { 
                        position: 'top',
                        labels: { 
                            font: { size: 13, weight: '700' },
                            color: '#1e293b',
                            padding: 20,
                            boxWidth: 40,
                            boxHeight: 3
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + context.parsed.y.toFixed(1) + '%';
                            }
                        }
                    }
                },
                scales: {
                    x: { 
                        stacked: true,
                        border: { display: false },
                        grid: { display: false },
                        ticks: {
                            font: { size: 13, weight: '600' },
                            color: '#1e293b',
                            padding: 8
                        }
                    },
                    y: {
                        stacked: true,
                        beginAtZero: true,
                        max: 100,
                        border: { display: false },
                        grid: { 
                            color: '#e2e8f0',
                            lineWidth: 1
                        },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#64748b',
                            callback: function(value) {
                                return value + '%';
                            },
                            padding: 8
                        }
                    }
                }
            }
        });

        // Gráfico 10: Utilidad Operativa Histórica
        new Chart(document.getElementById('chart10'), {
            type: 'bar',
            data: {
                labels: ['Real 2024', 'Real 2025\nReportada IFRS', 'Real 2025\nBase Histórica'],
                datasets: [{
                    label: 'Utilidad Neta (Millones CLP)',
                    data: [313, 16, 343],
                    backgroundColor: [
                        colors.primary.main,
                        colors.accent.main,
                        colors.success.main
                    ],
                    barThickness: 80
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        displayColors: false,
                        callbacks: {
                            label: function(context) {
                                return '$' + context.parsed.y.toLocaleString() + ' M';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        border: { display: false },
                        grid: { 
                            color: '#e2e8f0',
                            lineWidth: 1
                        },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#64748b',
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            },
                            padding: 8
                        }
                    },
                    x: {
                        border: { display: false },
                        grid: { display: false },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#1e293b',
                            padding: 8
                        }
                    }
                }
            }
        });
    </script>

        // Paleta de colores refinada
        const colors = {
            primary: {
                main: '#1e40af',
                light: '#3b82f6',
                gradient: (ctx) => {
                    const gradient = ctx.createLinearGradient(0, 0, 0, 400);
                    gradient.addColorStop(0, 'rgba(30, 64, 175, 0.8)');
                    gradient.addColorStop(1, 'rgba(59, 130, 246, 0.4)');
                    return gradient;
                }
            },
            accent: {
                main: '#dc2626',
                light: '#ef4444',
                gradient: (ctx) => {
                    const gradient = ctx.createLinearGradient(0, 0, 0, 400);
                    gradient.addColorStop(0, 'rgba(220, 38, 38, 0.8)');
                    gradient.addColorStop(1, 'rgba(239, 68, 68, 0.4)');
                    return gradient;
                }
            },
            success: {
                main: '#059669',
                light: '#10b981',
                gradient: (ctx) => {
                    const gradient = ctx.createLinearGradient(0, 0, 0, 400);
                    gradient.addColorStop(0, 'rgba(5, 150, 105, 0.8)');
                    gradient.addColorStop(1, 'rgba(16, 185, 129, 0.4)');
                    return gradient;
                }
            },
            warning: {
                main: '#d97706',
                light: '#f59e0b',
                gradient: (ctx) => {
                    const gradient = ctx.createLinearGradient(0, 0, 0, 400);
                    gradient.addColorStop(0, 'rgba(217, 119, 6, 0.8)');
                    gradient.addColorStop(1, 'rgba(245, 158, 11, 0.4)');
                    return gradient;
                }
            },
            secondary: {
                main: '#7c3aed',
                light: '#a78bfa'
            }
        };

        // Gráfico 1: Comparación Ingresos Totales
        new Chart(document.getElementById('chart1'), {
            type: 'bar',
            data: {
                labels: ['Real 2025', 'Presupuesto 2025'],
                datasets: [{
                    label: 'Ingresos (Millones CLP)',
                    data: [2871, 3273],
                    backgroundColor: [
                        colors.accent.main,
                        colors.primary.main
                    ],
                    borderWidth: 0,
                    borderRadius: 12,
                    barThickness: 80
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        displayColors: false,
                        callbacks: {
                            label: function(context) {
                                return '$' + context.parsed.y.toLocaleString() + ' M';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        border: { display: false },
                        grid: { 
                            color: '#f1f5f9',
                            lineWidth: 1
                        },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#64748b',
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            },
                            padding: 8
                        }
                    },
                    x: {
                        border: { display: false },
                        grid: { display: false },
                        ticks: {
                            font: { size: 13, weight: '600' },
                            color: '#1e293b',
                            padding: 8
                        }
                    }
                }
            }
        });

        // Gráfico 2: Ventas por Línea
        new Chart(document.getElementById('chart2'), {
            type: 'bar',
            data: {
                labels: ['Productos', 'Servicios'],
                datasets: [
                    {
                        label: 'Real 2025',
                        data: [2322, 535],
                        backgroundColor: colors.accent.main,
                        borderRadius: 12,
                        barThickness: 50
                    },
                    {
                        label: 'Presupuesto 2025',
                        data: [2771, 437],
                        backgroundColor: colors.primary.main,
                        borderRadius: 12,
                        barThickness: 50
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { 
                        position: 'top',
                        labels: { 
                            font: { size: 13, weight: '700' },
                            color: '#1e293b',
                            padding: 15,
                            usePointStyle: true,
                            pointStyle: 'circle'
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': $' + context.parsed.y.toLocaleString() + ' M';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        border: { display: false },
                        grid: { 
                            color: '#f1f5f9',
                            lineWidth: 1
                        },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#64748b',
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            },
                            padding: 8
                        }
                    },
                    x: {
                        border: { display: false },
                        grid: { display: false },
                        ticks: {
                            font: { size: 13, weight: '600' },
                            color: '#1e293b',
                            padding: 8
                        }
                    }
                }
            }
        });

        // Gráfico 3: Márgenes Brutos
        new Chart(document.getElementById('chart3'), {
            type: 'bar',
            data: {
                labels: ['Productos', 'Servicios'],
                datasets: [
                    {
                        label: 'Real 2025',
                        data: [61.82, 73.96],
                        backgroundColor: colors.accent.main,
                        borderRadius: 12,
                        barThickness: 50
                    },
                    {
                        label: 'Presupuesto 2025',
                        data: [65.54, 75.41],
                        backgroundColor: colors.primary.main,
                        borderRadius: 12,
                        barThickness: 50
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { 
                        position: 'top',
                        labels: { 
                            font: { size: 13, weight: '700' },
                            color: '#1e293b',
                            padding: 15,
                            usePointStyle: true,
                            pointStyle: 'circle'
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + context.parsed.y.toFixed(2) + '%';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        border: { display: false },
                        grid: { 
                            color: '#f1f5f9',
                            lineWidth: 1
                        },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#64748b',
                            callback: function(value) {
                                return value + '%';
                            },
                            padding: 8
                        }
                    },
                    x: {
                        border: { display: false },
                        grid: { display: false },
                        ticks: {
                            font: { size: 13, weight: '600' },
                            color: '#1e293b',
                            padding: 8
                        }
                    }
                }
            }
        });

        // Gráfico 4: Ajustes IFRS
        new Chart(document.getElementById('chart4'), {
            type: 'doughnut',
            data: {
                labels: ['Castigo Existencias ($147M)', 'Despidos Extraordinarios ($91M)', 'Provisión Impuesto ($54M)', 'Provisión Vacaciones ($35M)'],
                datasets: [{
                    data: [147, 91, 54, 35],
                    backgroundColor: [
                        colors.accent.main,
                        colors.warning.main,
                        colors.primary.main,
                        colors.success.main
                    ],
                    borderWidth: 4,
                    borderColor: '#ffffff',
                    hoverBorderWidth: 6,
                    hoverOffset: 10
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '65%',
                plugins: {
                    legend: { 
                        position: 'bottom',
                        labels: { 
                            font: { size: 12, weight: '600' },
                            color: '#1e293b',
                            padding: 15,
                            usePointStyle: true,
                            pointStyle: 'circle'
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        callbacks: {
                            label: function(context) {
                                const label = context.label.split('(')[0].trim();
                                return label + ': $' + context.parsed + 'M (' + 
                                       ((context.parsed/327)*100).toFixed(1) + '%)';
                            }
                        }
                    }
                }
            }
        });

        // Gráfico 5: Evolución Ingresos
        new Chart(document.getElementById('chart5'), {
            type: 'line',
            data: {
                labels: ['Real 2024', 'Real 2025'],
                datasets: [
                    {
                        label: 'Ingresos Totales',
                        data: [2716, 2871],
                        borderColor: colors.primary.main,
                        backgroundColor: 'rgba(30, 64, 175, 0.1)',
                        borderWidth: 4,
                        tension: 0.4,
                        fill: true,
                        pointRadius: 8,
                        pointBackgroundColor: colors.primary.main,
                        pointBorderColor: '#ffffff',
                        pointBorderWidth: 3,
                        pointHoverRadius: 10
                    },
                    {
                        label: 'Productos',
                        data: [2294, 2322],
                        borderColor: colors.accent.main,
                        backgroundColor: 'rgba(220, 38, 38, 0.1)',
                        borderWidth: 4,
                        tension: 0.4,
                        fill: true,
                        pointRadius: 8,
                        pointBackgroundColor: colors.accent.main,
                        pointBorderColor: '#ffffff',
                        pointBorderWidth: 3,
                        pointHoverRadius: 10
                    },
                    {
                        label: 'Servicios',
                        data: [344, 535],
                        borderColor: colors.success.main,
                        backgroundColor: 'rgba(5, 150, 105, 0.1)',
                        borderWidth: 4,
                        tension: 0.4,
                        fill: true,
                        pointRadius: 8,
                        pointBackgroundColor: colors.success.main,
                        pointBorderColor: '#ffffff',
                        pointBorderWidth: 3,
                        pointHoverRadius: 10
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false
                },
                plugins: {
                    legend: { 
                        position: 'top',
                        labels: { 
                            font: { size: 13, weight: '700' },
                            color: '#1e293b',
                            padding: 15,
                            usePointStyle: true,
                            pointStyle: 'circle'
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': $' + context.parsed.y.toLocaleString() + ' M';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        border: { display: false },
                        grid: { 
                            color: '#f1f5f9',
                            lineWidth: 1
                        },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#64748b',
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            },
                            padding: 8
                        }
                    },
                    x: {
                        border: { display: false },
                        grid: { display: false },
                        ticks: {
                            font: { size: 13, weight: '600' },
                            color: '#1e293b',
                            padding: 8
                        }
                    }
                }
            }
        });

        // Gráfico 6: Crecimiento por Línea
        new Chart(document.getElementById('chart6'), {
            type: 'bar',
            data: {
                labels: ['Ingresos Totales', 'Productos', 'Servicios'],
                datasets: [{
                    label: 'Crecimiento %',
                    data: [5.72, 1.26, 55.27],
                    backgroundColor: [
                        colors.primary.main,
                        colors.warning.main,
                        colors.success.main
                    ],
                    borderRadius: 12,
                    barThickness: 50
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        displayColors: false,
                        callbacks: {
                            label: function(context) {
                                return '+' + context.parsed.x.toFixed(2) + '%';
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        border: { display: false },
                        grid: { 
                            color: '#f1f5f9',
                            lineWidth: 1
                        },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#64748b',
                            callback: function(value) {
                                return '+' + value + '%';
                            },
                            padding: 8
                        }
                    },
                    y: {
                        border: { display: false },
                        grid: { display: false },
                        ticks: {
                            font: { size: 13, weight: '600' },
                            color: '#1e293b',
                            padding: 8
                        }
                    }
                }
            }
        });

        // Gráfico 7: Explosión de Costos
        new Chart(document.getElementById('chart7'), {
            type: 'bar',
            data: {
                labels: ['Costos Productos', 'Costos Servicios'],
                datasets: [{
                    label: 'Incremento de Costos %',
                    data: [30.67, 108.22],
                    backgroundColor: [
                        colors.accent.main,
                        '#991b1b'
                    ],
                    borderRadius: 12,
                    barThickness: 80
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        displayColors: false,
                        callbacks: {
                            label: function(context) {
                                return '+' + context.parsed.y.toFixed(2) + '%';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        border: { display: false },
                        grid: { 
                            color: '#f1f5f9',
                            lineWidth: 1
                        },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#64748b',
                            callback: function(value) {
                                return '+' + value + '%';
                            },
                            padding: 8
                        }
                    },
                    x: {
                        border: { display: false },
                        grid: { display: false },
                        ticks: {
                            font: { size: 13, weight: '600' },
                            color: '#1e293b',
                            padding: 8
                        }
                    }
                }
            }
        });

        // Gráfico 8: Deterioro Márgenes
        new Chart(document.getElementById('chart8'), {
            type: 'bar',
            data: {
                labels: ['Productos', 'Servicios'],
                datasets: [
                    {
                        label: 'Real 2024',
                        data: [70.41, 80.58],
                        backgroundColor: colors.primary.main,
                        borderRadius: 12,
                        barThickness: 50
                    },
                    {
                        label: 'Real 2025',
                        data: [61.82, 73.96],
                        backgroundColor: colors.accent.main,
                        borderRadius: 12,
                        barThickness: 50
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { 
                        position: 'top',
                        labels: { 
                            font: { size: 13, weight: '700' },
                            color: '#1e293b',
                            padding: 15,
                            usePointStyle: true,
                            pointStyle: 'circle'
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + context.parsed.y.toFixed(2) + '%';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        border: { display: false },
                        grid: { 
                            color: '#f1f5f9',
                            lineWidth: 1
                        },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#64748b',
                            callback: function(value) {
                                return value + '%';
                            },
                            padding: 8
                        }
                    },
                    x: {
                        border: { display: false },
                        grid: { display: false },
                        ticks: {
                            font: { size: 13, weight: '600' },
                            color: '#1e293b',
                            padding: 8
                        }
                    }
                }
            }
        });

        // Gráfico 9: Mix de Ingresos
        new Chart(document.getElementById('chart9'), {
            type: 'bar',
            data: {
                labels: ['Real 2024', 'Real 2025'],
                datasets: [
                    {
                        label: 'Productos',
                        data: [84.4, 80.9],
                        backgroundColor: colors.primary.main,
                        borderRadius: { topLeft: 12, topRight: 12 }
                    },
                    {
                        label: 'Servicios',
                        data: [12.7, 18.6],
                        backgroundColor: colors.success.main,
                        borderRadius: 0
                    },
                    {
                        label: 'Otros',
                        data: [2.9, 0.5],
                        backgroundColor: '#64748b',
                        borderRadius: { bottomLeft: 12, bottomRight: 12 }
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { 
                        position: 'top',
                        labels: { 
                            font: { size: 13, weight: '700' },
                            color: '#1e293b',
                            padding: 15,
                            usePointStyle: true,
                            pointStyle: 'circle'
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + context.parsed.y.toFixed(1) + '%';
                            }
                        }
                    }
                },
                scales: {
                    x: { 
                        stacked: true,
                        border: { display: false },
                        grid: { display: false },
                        ticks: {
                            font: { size: 13, weight: '600' },
                            color: '#1e293b',
                            padding: 8
                        }
                    },
                    y: {
                        stacked: true,
                        beginAtZero: true,
                        max: 100,
                        border: { display: false },
                        grid: { 
                            color: '#f1f5f9',
                            lineWidth: 1
                        },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#64748b',
                            callback: function(value) {
                                return value + '%';
                            },
                            padding: 8
                        }
                    }
                }
            }
        });

        // Gráfico 10: Utilidad Operativa Histórica
        new Chart(document.getElementById('chart10'), {
            type: 'bar',
            data: {
                labels: ['Real 2024', 'Real 2025\nReportada IFRS', 'Real 2025\nBase Histórica'],
                datasets: [{
                    label: 'Utilidad Neta (Millones CLP)',
                    data: [313, 16, 343],
                    backgroundColor: [
                        colors.primary.main,
                        colors.accent.main,
                        colors.success.main
                    ],
                    borderRadius: 12,
                    barThickness: 80
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.95)',
                        padding: 16,
                        titleFont: { size: 14, weight: '700' },
                        bodyFont: { size: 13 },
                        borderColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 1,
                        displayColors: false,
                        callbacks: {
                            label: function(context) {
                                return '$' + context.parsed.y.toLocaleString() + ' M';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        border: { display: false },
                        grid: { 
                            color: '#f1f5f9',
                            lineWidth: 1
                        },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#64748b',
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            },
                            padding: 8
                        }
                    },
                    x: {
                        border: { display: false },
                        grid: { display: false },
                        ticks: {
                            font: { size: 12, weight: '600' },
                            color: '#1e293b',
                            padding: 8
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
